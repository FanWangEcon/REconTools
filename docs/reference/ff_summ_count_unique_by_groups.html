<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>By Multiple Groups, Count the Number of Unique Observations (Individuals) within Group — ff_summ_count_unique_by_groups • REconTools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="By Multiple Groups, Count the Number of Unique Observations (Individuals) within Group — ff_summ_count_unique_by_groups" />
<meta property="og:description" content="We have multiple groups (country, village), we want to know the number of unique observations within these groups.
In addition, we also want to generate the total number of observations for each variable within these
country/village groups, these total observations includes multiple values for each unique individual." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-92953468-5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-92953468-5');
</script>


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">REconTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/fv_dist_gini_vector_pos.html">DIST GINI--Compute Gini Inequality Coefficient Given Data Vector (One Variable)</a>
    </li>
    <li>
      <a href="../articles/fv_opti_bisect_pmap_multi.html">OPTI BISECT--Solve Roots for N (Rows) Strictly Monotonic Functions with Single Zero-Crossing</a>
    </li>
    <li>
      <a href="../articles/fv_panel_cumsum_grouplast.html">PANEL CUMSUM LAST--Cumulative Sum by Index Up to Last in Group</a>
    </li>
    <li>
      <a href="../articles/fv_panel_expand_longandwide.html">PANEL EXPAND--Append Group Mean Lagged Values as Additional Panel Variables</a>
    </li>
    <li>
      <a href="../articles/fv_summ_bygroup.html">SUMM BYGROUP--Summarize Variable by Factor Groups</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>By Multiple Groups, Count the Number of Unique Observations (Individuals) within Group</h1>
    
    <div class="hidden name"><code>ff_summ_count_unique_by_groups.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>We have multiple groups (country, village), we want to know the number of unique observations within these groups.
In addition, we also want to generate the total number of observations for each variable within these
country/village groups, these total observations includes multiple values for each unique individual.</p>
    </div>

    <pre class="usage"><span class='fu'>ff_summ_count_unique_by_groups</span>(
  <span class='no'>df</span>,
  <span class='kw'>ar_svr_group</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"S.country"</span>, <span class='st'>"vil.id"</span>),
  <span class='kw'>svr_unique_identifier</span> <span class='kw'>=</span> <span class='st'>"indi.id"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>df</th>
      <td><p>dataframe input dataframe of interest</p></td>
    </tr>
    <tr>
      <th>ar_svr_group</th>
      <td><p>array string array of variables to group by</p></td>
    </tr>
    <tr>
      <th>svr_unique_identifier</th>
      <td><p>string variable that has the unique key of interest</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a dataframe with stats outputs.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><a href='https://fanwangecon.github.io/REconTools/reference/ff_summ_count_unique_by_groups.html'>https://fanwangecon.github.io/REconTools/reference/ff_summ_count_unique_by_groups.html</a>
<a href='https://github.com/FanWangEcon/REconTools/blob/master/R/ff_summ_count.R'>https://github.com/FanWangEcon/REconTools/blob/master/R/ff_summ_count.R</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>df_uniques_count_by_vil</span> <span class='kw'>&lt;-</span> <span class='fu'>ff_summ_count_unique_by_groups</span>(<span class='no'>df_hgt_wgt</span>,
                         <span class='kw'>ar_svr_group</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'S.country'</span>, <span class='st'>'vil.id'</span>),
                         <span class='kw'>svr_unique_identifier</span> <span class='kw'>=</span> <span class='st'>'indi.id'</span>)</div><div class='output co'>#&gt; <span class='message'>`mutate_if()` ignored the following grouping variables:</span>
#&gt; <span class='message'>Columns `S.country`, `vil.id`</span></div><div class='output co'>#&gt; <span class='message'>Adding missing grouping variables: `S.country`, `vil.id`</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>df_uniques_count_by_vil</span>, <span class='kw'>n</span><span class='kw'>=</span><span class='fl'>50</span>)</div><div class='output co'>#&gt; # A tibble: 37 x 15
#&gt; # Groups:   S.country, vil.id [37]
#&gt;    S.country vil.id unique_indi indi.id_n svymthRound_n momEdu_n wealthIdx_n
#&gt;    &lt;chr&gt;      &lt;dbl&gt;       &lt;int&gt;     &lt;int&gt;         &lt;int&gt;    &lt;int&gt;       &lt;int&gt;
#&gt;  1 Cebu           1          66      1188          1188     1188        1188
#&gt;  2 Cebu           2          34       612           612      612         612
#&gt;  3 Cebu           3          90      1620          1620     1620        1620
#&gt;  4 Cebu           4          44       792           792      792         792
#&gt;  5 Cebu           5           4        72            72       72          72
#&gt;  6 Cebu           6          54       972           972      972         972
#&gt;  7 Cebu           7          73      1314          1314     1314        1314
#&gt;  8 Cebu           8          42       756           756      756         756
#&gt;  9 Cebu           9          75      1349          1349     1349        1349
#&gt; 10 Cebu          10          70      1260          1260     1260        1260
#&gt; 11 Cebu          11          65      1170          1170     1170        1170
#&gt; 12 Cebu          12          44       792           792      792         792
#&gt; 13 Cebu          13         138      2484          2484     2484        2484
#&gt; 14 Cebu          14          35       630           630      630         630
#&gt; 15 Cebu          15          39       702           702      702         702
#&gt; 16 Cebu          16          39       702           702      702         702
#&gt; 17 Cebu          17         114      2052          2052     2052        2052
#&gt; 18 Cebu          18          14       252           252      252         252
#&gt; 19 Cebu          19          13       234           234      234         234
#&gt; 20 Cebu          20          38       684           684      684         684
#&gt; 21 Cebu          21           8       144           144      144         144
#&gt; 22 Cebu          22           8       144           144      144         144
#&gt; 23 Cebu          23          12       216           216      216         216
#&gt; 24 Cebu          24           7       126           126      126         126
#&gt; 25 Cebu          25          14       252           252      252         252
#&gt; 26 Cebu          26          29       522           522      522         522
#&gt; 27 Cebu          27          30       540           540      540         540
#&gt; 28 Cebu          28          66      1188          1188     1188        1188
#&gt; 29 Cebu          29          16       288           288      288         288
#&gt; 30 Cebu          30          17       306           306      306         306
#&gt; 31 Cebu          31          25       450           450      450         450
#&gt; 32 Cebu          32          19       342           342      342         342
#&gt; 33 Cebu          33           7       126           126      126         126
#&gt; 34 Guatemala      3         186      2976          2976        0        2976
#&gt; 35 Guatemala      6         196      3136          3136        0        3136
#&gt; 36 Guatemala      8         151      2416          2416        0        2416
#&gt; 37 Guatemala     14         141      2256          2256        0        2256
#&gt; # ... with 8 more variables: hgt_n &lt;int&gt;, wgt_n &lt;int&gt;, hgt0_n &lt;int&gt;,
#&gt; #   wgt0_n &lt;int&gt;, prot_n &lt;int&gt;, cal_n &lt;int&gt;, p.A.prot_n &lt;int&gt;,
#&gt; #   p.A.nProt_n &lt;int&gt;</div><div class='input'><span class='no'>df_uniques_count_by_mth</span> <span class='kw'>&lt;-</span> <span class='fu'>ff_summ_count_unique_by_groups</span>(<span class='no'>df_hgt_wgt</span>,
                         <span class='kw'>ar_svr_group</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'S.country'</span>, <span class='st'>'svymthRound'</span>),
                         <span class='kw'>svr_unique_identifier</span> <span class='kw'>=</span> <span class='st'>'indi.id'</span>)</div><div class='output co'>#&gt; <span class='message'>`mutate_if()` ignored the following grouping variables:</span>
#&gt; <span class='message'>Columns `S.country`, `svymthRound`</span></div><div class='output co'>#&gt; <span class='message'>Adding missing grouping variables: `S.country`, `svymthRound`</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>df_uniques_count_by_mth</span>, <span class='kw'>n</span><span class='kw'>=</span><span class='fl'>50</span>)</div><div class='output co'>#&gt; # A tibble: 34 x 15
#&gt; # Groups:   S.country, svymthRound [34]
#&gt;    S.country svymthRound unique_indi vil.id_n indi.id_n momEdu_n wealthIdx_n
#&gt;    &lt;chr&gt;           &lt;dbl&gt;       &lt;int&gt;    &lt;int&gt;     &lt;int&gt;    &lt;int&gt;       &lt;int&gt;
#&gt;  1 Cebu                0        1349     1349      1349     1349        1349
#&gt;  2 Cebu                2        1349     1349      1349     1349        1349
#&gt;  3 Cebu                4        1349     1349      1349     1349        1349
#&gt;  4 Cebu                6        1349     1349      1349     1349        1349
#&gt;  5 Cebu                8        1349     1349      1349     1349        1349
#&gt;  6 Cebu               10        1349     1349      1349     1349        1349
#&gt;  7 Cebu               12        1349     1349      1349     1349        1349
#&gt;  8 Cebu               14        1349     1349      1349     1349        1349
#&gt;  9 Cebu               16        1349     1349      1349     1349        1349
#&gt; 10 Cebu               18        1349     1349      1349     1349        1349
#&gt; 11 Cebu               20        1349     1349      1349     1349        1349
#&gt; 12 Cebu               22        1349     1349      1349     1349        1349
#&gt; 13 Cebu               24        1349     1349      1349     1349        1349
#&gt; 14 Cebu              102        1349     1349      1349     1349        1349
#&gt; 15 Cebu              138        1349     1349      1349     1349        1349
#&gt; 16 Cebu              187        1349     1349      1349     1349        1349
#&gt; 17 Cebu              224        1348     1348      1348     1348        1348
#&gt; 18 Cebu              258        1349     1349      1349     1349        1349
#&gt; 19 Guatemala           0         674      674       674        0         674
#&gt; 20 Guatemala           3         674      674       674        0         674
#&gt; 21 Guatemala           6         674      674       674        0         674
#&gt; 22 Guatemala           9         674      674       674        0         674
#&gt; 23 Guatemala          12         674      674       674        0         674
#&gt; 24 Guatemala          15         674      674       674        0         674
#&gt; 25 Guatemala          18         674      674       674        0         674
#&gt; 26 Guatemala          21         674      674       674        0         674
#&gt; 27 Guatemala          24         674      674       674        0         674
#&gt; 28 Guatemala          30         674      674       674        0         674
#&gt; 29 Guatemala          36         674      674       674        0         674
#&gt; 30 Guatemala          42         674      674       674        0         674
#&gt; 31 Guatemala          48         674      674       674        0         674
#&gt; 32 Guatemala          60         674      674       674        0         674
#&gt; 33 Guatemala          72         674      674       674        0         674
#&gt; 34 Guatemala          84         674      674       674        0         674
#&gt; # ... with 8 more variables: hgt_n &lt;int&gt;, wgt_n &lt;int&gt;, hgt0_n &lt;int&gt;,
#&gt; #   wgt0_n &lt;int&gt;, prot_n &lt;int&gt;, cal_n &lt;int&gt;, p.A.prot_n &lt;int&gt;,
#&gt; #   p.A.nProt_n &lt;int&gt;</div><div class='input'><span class='no'>df_uniques_count_by_country</span> <span class='kw'>&lt;-</span> <span class='fu'>ff_summ_count_unique_by_groups</span>(<span class='no'>df_hgt_wgt</span>,
                         <span class='kw'>ar_svr_group</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'S.country'</span>),
                         <span class='kw'>svr_unique_identifier</span> <span class='kw'>=</span> <span class='st'>'indi.id'</span>)</div><div class='output co'>#&gt; <span class='message'>`mutate_if()` ignored the following grouping variables:</span>
#&gt; <span class='message'>Column `S.country`</span></div><div class='output co'>#&gt; <span class='message'>Adding missing grouping variables: `S.country`</span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>df_uniques_count_by_country</span>)</div><div class='output co'>#&gt; # A tibble: 2 x 15
#&gt; # Groups:   S.country [2]
#&gt;   S.country unique_indi vil.id_n indi.id_n svymthRound_n momEdu_n wealthIdx_n
#&gt;   &lt;chr&gt;           &lt;int&gt;    &lt;int&gt;     &lt;int&gt;         &lt;int&gt;    &lt;int&gt;       &lt;int&gt;
#&gt; 1 Cebu             1349    24281     24281         24281    24281       24281
#&gt; 2 Guatemala         674    10784     10784         10784        0       10784
#&gt; # ... with 8 more variables: hgt_n &lt;int&gt;, wgt_n &lt;int&gt;, hgt0_n &lt;int&gt;,
#&gt; #   wgt0_n &lt;int&gt;, prot_n &lt;int&gt;, cal_n &lt;int&gt;, p.A.prot_n &lt;int&gt;,
#&gt; #   p.A.nProt_n &lt;int&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Fan Wang, <a href='http://fanwangecon.github.io'>http://fanwangecon.github.io</a></p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Fan Wang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


